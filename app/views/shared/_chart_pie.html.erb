
var fixed_num = 0

<% if defined? fixed_num%>
<%= "fixed_num = #{fixed_num}"  %>
<% end %>

  chart = new Highcharts.Chart({
    chart: {
      renderTo: '<%=  container %>',
      plotBackgroundColor: null,
      plotBorderWidth: null,
      plotShadow: false
    },
    title: {
      text: '<%= title %>'
    },
    credits: {
      position: {
        align: 'left',
        x: 20 },
      href: 'http://www.instun.gov.my',
      text: 'Kementrian Pendidikan Kebudayaan Malaysia'
    },
    tooltip: {
      formatter: function() {
        return '<b>'+ this.point.name +'</b>: '+ this.point.y +' ('+ this.percentage.toFixed(fixed_num) +' %)';
      }
    },
    plotOptions: {
      pie: {
        allowPointSelect: true,
        cursor: 'pointer',
        dataLabels: {
          enabled: true,
          color: '#000000',
          connectorColor: '#000000',
          formatter: function() {
            return '<b>'+ this.point.name +'</b>: '+ this.point.y +' ('+ this.percentage.toFixed(fixed_num) +' %)';
          }
        },
        showInLegend: true
      }
    },
    legend: {
      layout: 'vertical',
      align: 'right',
      verticalAlign: 'top',
      x: -100,
      y: 225,
      floating: true,
      borderWidth: 1,
      backgroundColor: '#FFFFFF',
      shadow: true
    },
    series: [{
        type: 'pie',
        name: '<%= title %>',
        data: <%= data %>
      }]
  });
